@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Custom Scrollbar for that technical feel */
  ::-webkit-scrollbar {
    width: 6px;
  }
  ::-webkit-scrollbar-track {
    background: #0a0a0a;
  }
  ::-webkit-scrollbar-thumb {
    background: #333;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #ff1801;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Font display optimization with fallback fonts */
  /* Optimized fallback fonts to prevent layout shift during font loading */
  body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  }
  
  .font-serif {
    font-family: 'Playfair Display', Georgia, 'Times New Roman', Times, serif;
  }
  
  .font-mono {
    font-family: 'IBM Plex Mono', 'Courier New', Courier, 'Lucida Console', Monaco, monospace;
  }
  
  /* Font display optimization - swap ensures text is visible immediately with fallback */
  @font-face {
    font-family: 'Inter';
    font-display: swap;
  }
  @font-face {
    font-family: 'IBM Plex Mono';
    font-display: swap;
  }
  @font-face {
    font-family: 'Playfair Display';
    font-display: swap;
  }
  
  /* Prevent horizontal overflow on mobile */
  html, body {
    overflow-x: hidden;
    max-width: 100vw;
  }
  
  * {
    max-width: 100%;
  }
}

@layer utilities {
  .backface-hidden {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
  
  .duration-600 {
    transition-duration: 600ms;
  }
  
  /* Shine effect animation for team cards */
  .shine-effect {
    transform: translateX(100%) translateY(100%);
  }
  
  .group:hover .shine-effect {
    animation: shine 0.8s ease-out forwards;
  }
  
  @keyframes shine {
    0% {
      transform: translateX(100%) translateY(100%);
    }
    100% {
      transform: translateX(-100%) translateY(-100%);
    }
  }
  
  /* Smooth scroll for Teams page */
  html {
    scroll-behavior: smooth;
  }
  
  /* Snap scroll for Teams sections */
  .snap-start {
    scroll-snap-align: start;
  }
  
  /* Smooth scrolling container */
  .smooth-scroll-container {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Optimize scroll performance */
  * {
    scroll-behavior: smooth;
  }
  
  /* GPU acceleration for Teams page */
  .will-change-transform {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }
  
  /* Content visibility optimization */
  [content-visibility="auto"] {
    content-visibility: auto;
    contain-intrinsic-size: auto 500px;
  }
  
  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    * {
      scroll-behavior: auto;
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Performance optimizations */
  img {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  /* Smooth scrolling container */
  html {
    scroll-padding-top: 0;
  }
  
  /* Teams page responsive image optimization */
  @media (max-width: 768px) {
    /* Mobile: Show more of the image, better crop positioning */
    section[data-team-section] img[alt*="hero"] {
      object-fit: cover;
      object-position: center 40%; /* Show upper-middle portion on mobile */
      min-height: 100vh;
    }
  }
  
  @media (min-width: 769px) {
    /* Desktop: Standard cover with center positioning */
    section[data-team-section] img[alt*="hero"] {
      object-fit: cover;
      object-position: center center;
    }
  }
}
